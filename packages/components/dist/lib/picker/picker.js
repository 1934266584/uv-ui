"use strict";const e=require("vue"),w=require("../popup/index.js");require("./picker.vue_vue_type_style_index_0_lang.js");const B=require("../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/throttle.js"),b={class:"uv-picker"},x={class:"uv-picker-title"},Y={class:"uv-picker-title-center"},q=e.createElementVNode("div",{class:"uv-picker-content-wrapper"},null,-1),H={name:"UvPicker"},j=Object.assign(H,{props:{show:{type:Boolean,default:!1},modelValue:{type:String,default:""},title:{type:String},leftName:{type:String,default:"\u53D6\u6D88"},rightName:{type:String,default:"\u786E\u5B9A"},list:{type:Array,required:!0},keyName:{type:String}},emits:["update:show","update:modelValue","change","cancle","confim"],setup(u,{emit:i}){const s=u,r=e.ref(!1);e.watch(()=>s.show,t=>{r.value=t}),e.watch(()=>r.value,t=>{i("update:show",t)});const n=e.ref(null),k=e.computed(()=>typeof n.value=="number"?{transform:`translate(-50%, ${n.value}px)`}:{transform:"translate(-50%, -18px)"}),l=e.ref(0),d=["gray","#ccc","#ddd","#eee"],m=[.96,.9,.88,.84];function g(t){let a="#000",o=1;const c=d.length-1;if(t>l.value){const v=t-l.value>c?c:t-l.value-1;a=d[v],o=m[v]}else if(t<l.value){const v=l.value-t>c?c:l.value-t-1;a=d[v],o=m[v]}return{color:a,transform:`scale(${o})`}}function p(){return s.keyName?s.list[l.value][s.keyName]:s.list[l.value]}let h=null;function y(t){const a=n.value||-18;h=t.touches[0].clientY-a}function N(t){S(t)}function V(){setTimeout(()=>{n.value=-l.value*36-18},100)}const f=e.ref(null),S=B(t=>{n.value=t.touches[0].clientY-h,n.value>36?n.value=36:n.value<-f.value.offsetHeight-36&&(n.value=-f.value.offsetHeight-36),l.value=Math.abs(Math.ceil(n.value/36)),l.value<=0||n.value>0?l.value=0:(l.value>s.list.length-1||n.value<-f.value.offsetHeight-18)&&(l.value=s.list.length-1),i("change",p())});function _(){i("change"),r.value=!1}function E(){i("confim"),i("update:modelValue",p()),r.value=!1}return(t,a)=>(e.openBlock(),e.createBlock(e.unref(w),e.mergeProps({modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),position:"bottom"},t.$attrs),{default:e.withCtx(()=>[e.createElementVNode("div",b,[e.createElementVNode("div",x,[e.createElementVNode("div",{class:"uv-picker-title-left",onClick:_},e.toDisplayString(u.leftName),1),e.renderSlot(t.$slots,"title",{},()=>[e.createElementVNode("div",Y,e.toDisplayString(u.title),1)]),e.createElementVNode("div",{class:"uv-picker-title-right",onClick:E},e.toDisplayString(u.rightName),1)]),e.createElementVNode("div",{class:"uv-picker-content",onTouchstart:y,onTouchmove:N,onTouchend:V},[q,e.createElementVNode("ul",{class:"uv-picker-content-box",ref_key:"pickerBoxRef",ref:f,style:e.normalizeStyle(e.unref(k))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.list,(o,c)=>(e.openBlock(),e.createElementBlock("li",{class:"uv-picker-content-item",key:u.keyName||c,style:e.normalizeStyle(g(Number(c)))},e.toDisplayString(o[u.keyName]||o),5))),128))],4)],32)])]),_:3},16,["modelValue"]))}});module.exports=j;
